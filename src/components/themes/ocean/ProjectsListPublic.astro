---
import type { ProjectDto } from "@/types";
import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";

interface Props {
  projects: ProjectDto[];
  userUrl: string;
}

const { projects, userUrl } = Astro.props;
---

<section class="mb-12" aria-labelledby="projects-heading">
  <Card>
    <CardHeader>
      <CardTitle id="projects-heading">Projects</CardTitle>
    </CardHeader>
    <CardContent>
      <div class="space-y-3">
        {
          projects.map((project) => (
            <div
              class="flex items-center justify-between p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors"
              key={project.project_id}
              data-project-name={project.project_name}
            >
              <h4 class="text-lg font-semibold text-foreground">{project.project_name}</h4>
              <a
                href={`/page/${userUrl}/projects/${project.project_id}`}
                aria-label={`View ${project.project_name} project details`}
              >
                <Button variant="outline" size="sm">
                  View Project
                </Button>
              </a>
            </div>
          ))
        }
      </div>
    </CardContent>
  </Card>
</section>
